### 网络基础

参考资料：  
[TCP/IP、Http、Socket的区别](http://lib.csdn.net/article/computernetworks/20534)  
[HTTP、TCP和Socket的概念和原理及其区别](https://www.jianshu.com/p/947a2673102a)

## HTTP TCP/IP Socket

网络从上到下分层：应用层、表示层、会化层、传输层、网络层、数据链路层、物理层

HTTP是应用层协议，主要解决如何包装数据；TCP是传输层协议，主要解决数据如何在网络上传输，简单的说就是将大块数据分割成报文段进行管理；IP协议是网络层协议；    

Socket本身不是协议，而是是对TCP/IP协议栈的封装和应用，是一套API接口，通过Socket我们能够更好的使用TCP/IP协议栈。  


#### 什么是TCP连接的三次握手
为了准确无误地将数据送达目标处，TCP采用的是三次握手的策略。用TCP协议将数据包发送出去后，TCP不会对传送后的情况置之不理，它一定会向对方确认是否送达成功。  
发送端首先会发送一个带SYN标志的数据包给接收端；  
接收端收到以后，回传一个带SYN/ACK标志的数据包以示传达确认信息；  
最后发送端再回传一个带ACK标志的数据包，代表握手结束。  

#### 利用Socket建立网络连接的步骤
建立Socket连接至少需要一对套接字，一个运行于客户端叫做ClientSocket，另一个运行于服务端叫做ServerSocket。  
套接字之间的连接分三个步骤：  
1、服务器监听：服务端的套接字并不定位具体的客户端套接字，而是处于等待连接的状态，实时监听网络状态，等待客户端的连接请求；    
2、客户端请求连接：指客户端的套接字提出连接请求，要连接的目标是服务端的套接字。为此，客户端的套接字必须先描述他要连接的服务端的套接字，指出服务端套接字的地址和端口号，然后向服务端套接字提出连接请求；   
3、连接确认：当服务端的套接字监听或者接收到客户端套接字的连接请求时，就响应客户端的请求，建立一个新的线程，把服务端套接字描述传递可客户端，客户端确认服务端套接字的描述无误后，双方建立连接。而服务端的套接字继续处于监听状态，监听其他客户端套接字的连接请求。    


#### HTTP连接的特点
HTTP（Hypertext Transfer Protocol）超文本传输协议，是web联网的基础也是手机联网常用的协议之一，HTTP协议是建立在TCP协议上的一种应用。  
HTTP连接的特点就是客户端主动发送请求，服务器进行响应，在请求结束后会主动断开连接，从建立连接到断开连接的过程称为一次连接。  
HTTP请求不对请求和响应之间的通信状态进行保存，这么做的目的是为了更快的处理大量事物，确保协议的可伸缩性。  

#### HTTP请求的状态码  
2XX表示成功  
3XX表示重定向  
4XX表示客户端错误  
5XX表示服务端错误   
例如404表示服务器上无法找到请求的资源，同时也可以在服务器拒绝请求且不想说明的情况下使用。  

#### 为什么Http是无状态的短连接呢？而Socket是有状态的长连接？
HTTP在每次请求完之后会把TCP连接关掉，所以是短连接。而Socket编程使用TCP的时候，因为我们可以自己通过代码控制什么时候打开连接什么时候关闭连接，所以只要我们不把连接关闭，这个连接就一直在客户端和服务器的进程中存在，相关的状态会一直保存着。 

由于客户端和服务器之间往往有很多网络节点，如路由器、网关、防火墙等，大部分防火墙默认会关闭长时间处于不活跃状态下的网络连接，因此需要通过轮询告诉网络该连接处于活跃状态。    

使用Socket进行网络通信必须包含的五种信息：连接使用的协议、本地主机的ip地址、本地进程的协议端口号、远程主机的ip地址、远程进程的协议端口号。  
生成一个Socket主要有三个参数：通信使用的协议（TCP或UDP）、通信目标的ip地址和通信目标的端口号。  


#### TCP与UDP的区别
TCP需要先建立连接，浏览器、邮件等一般应用程序收发数据使用的是TCP，TCP有重发机制；  
UDP不需要建立连接，DNS查询等收发较短控制数据时使用UDP，不需要重发的数据使用UDP更加高效。  

#### HTTP中GET与POST的区别
从方向来看：GET请求是从服务器获取数据，POST请求是向服务器传输数据；实际上，GET和POST只是发送数据的机制不同，通过POST也可以向服务器查询数据；    
从参数来看：GET请求的参数在其URL里面，而POST请求的参数在请求体body里面；从这个角度来看POST请求比GET请求更加安全隐秘；  
大小限制：GET请求提交的数据不能大于2KB，而POST请求没有大小限制；  
  
HTTP定义了客户端与服务器进行交互的几种方式，常见的四种为：GET POST PUT DELETE查 改 增 删  

#### Session Cookie
Session 是服务器端用来认证、追踪用户的数据结构。它通过判断客户端传来的信息确定用户，确定用户的唯一标识是客户端传来的 Session ID。
Cookie 是客户端保存用户信息的机制。初次会话 HTTP 协议会在 Cookie 里记录一个 Session ID ，之后每次把 Session ID 发给服务器端。
Session 一般用于用户验证。它默认存在服务器的一个文件里，当然内存、数据库里也可以存储。
若是客户端禁用了 Cookie，客户端会用 URL 重写技术，即会话时在 URL 的末尾加上 Session ID，并发送给服务器端。 

#### URI URL
URI (Uniform Resource Identifier) 统一资源标识符，是一个用于标示互联网资源名称的字符串；  
URL (Unifotm Resource Location) 统一资源定位符，是URI的最常见形式。  
URN (Uniform Resource Name) 统一资源命名，通过名字来标识一个资源，也是URI的一种形式。  

## HTTP首部字段

HTTP首部字段是构成报文的要素之一. 在客户端与服务器进以HTTP协议进行通信的过程中, 无论是请求还是响应都会使用首部字段, 它能起到传递额外信息的作用.   

### 分类
HTTP首部字段根据实际用途被分为以下四种类型:   
#### 通用首部字段(General Heaedr Fileds)  
请求和响应报文都使用的首部
#### 请求首部字段(Request Header Fileds)  
#### 响应首部字段(Response Header Fileds)  
#### 实体首部字段(Entity Header Fileds)  

